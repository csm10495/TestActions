name: "What Version Of Python is In There?"

on: 
  workflow_dispatch:
    inputs:
      docker_image:
        type: choice
        description: "System Type to Use"
        options:
          - centos
          - ubuntu
          - alpine
          - busybox
          - debian
          - amazonlinux
          - clearlinux
          - python
       
jobs:
  get_python_info:
    runs-on: ubuntu-latest
    container: "${{ github.event.inputs.docker_image }}"
    outputs:
      python_path: ${{ steps.python_info.outputs.python_path }}
      python_version: ${{ steps.python_info.outputs.python_version }}
    steps:
      - id: python_info
        run: |
          if [ ! which sh ]; then
            yum install which -y || apt-get install which -y || dnf install which -y
          fi
          
          PY_P="$(which python3 2>/dev/null || which python 2>/dev/null)"
          if [ -n ${PY_P} ]; then 
            echo "::set-output name=python_path::${PY_P}" 
            PY_VER=$("${PY_P}" --version 2>&1)
            echo "::set-output name=python_version::${PY_VER}" 
          fi
      
  print_python_info:
    runs-on: ubuntu-latest
    needs: get_python_info
    if: ${{ needs.get_python_info.outputs.python_path }} != ""
    steps:
    - run: |
        echo "Python was found here: ${{ needs.get_python_info.outputs.python_path }}"
        echo "${{ needs.get_python_info.outputs.python_version }}"
     

      
    
